# SwagTix Admin Interface Environment Configuration
# Copy this file to .env and fill in the values

# Server Configuration
PORT=3000
NODE_ENV=production # 'development' or 'production'
API_BASE_URL=/api/v1

# ==============================================================================
# === REQUIRED SETTINGS ========================================================
# ============================================================================== 
#  ⚠️  Do **NOT** launch the server before you set these!
# ------------------------------------------------------------------------------
# PORT              – Port the Node.js backend listens on.
# LOCAL_IP          – The LAN IP of this machine (used for log links & CORS).
# PULSECHAIN_*      – RPC and chain information for PulseChain main-net.
# WALLET_PATH       – Location of encrypted-wallet.json generated by
#                     master-wallet/generate-wallet.js
#                     (store the decryption password in
#                     /opt/swagtix/app/.wallet_password — never here).
# ------------------------------------------------------------------------------
PORT=3000
LOCAL_IP=192.168.0.199

# PulseChain (main-net) configuration
PULSECHAIN_RPC_URL=https://rpc.pulsechain.com
PULSECHAIN_CHAIN_ID=369
PULSECHAIN_EXPLORER_URL=https://scan.pulsechain.com

# Path to the encrypted master wallet file (default shown).
WALLET_PATH=/opt/swagtix/secure/encrypted-wallet.json

# ------------------------------------------------------------------------------
# You can usually leave everything below unchanged for an initial test-deploy.
# ==============================================================================
# ------------------------------------------------------------------------------
# CORS and Network Access
# ------------------------------------------------------------------------------
# 1. CORS_ORIGIN should include the URL that will load this backend in the
#    browser.  In a local-LAN setup you typically want BOTH localhost **and**
#    the server’s LAN IP so other devices on the network can reach it.
# 2. LOCAL_IP is used by the server to print the correct “Network” URL in logs
#    and to pre-populate default CORS rules.  Set it to the static LAN address
#    of this machine.
# ------------------------------------------------------------------------------
CORS_ORIGIN=http://localhost:3000,http://192.168.0.199:3000


# Security Configuration
JWT_SECRET= # Generate a strong random string, e.g., using `openssl rand -hex 32`
JWT_EXPIRATION=24h # Token expiration time
COOKIE_SECRET= # Generate a strong random string, e.g., using `openssl rand -hex 32`
ENCRYPTION_KEY= # 32-byte key for encrypting sensitive data, e.g., using `openssl rand -hex 16`

# Rate Limiting
RATE_LIMIT_WINDOW=15 # Time window in minutes
RATE_LIMIT_MAX=100 # Maximum requests per window

# PulseChain Configuration
PULSECHAIN_RPC_URL=https://rpc.pulsechain.com
PULSECHAIN_CHAIN_ID=369 # PulseChain mainnet (0x171 in hex)
PULSECHAIN_EXPLORER_URL=https://scan.pulsechain.com
PULSECHAIN_WEBSOCKET_URL=wss://ws.pulsechain.com # Optional, for event subscriptions

# Wallet Configuration (advanced overrides)
# If you need a custom location use WALLET_PATH, otherwise omit and the default
# /opt/swagtix/secure/encrypted-wallet.json is used.

# Contract Addresses
EVENT_TICKET_CONTRACT= # Address of the deployed EventTicket1155 contract (e.g., 0x...)

# Admin User Configuration
# These credentials are used for initial setup only.
# After setup, change the password through the interface.
ADMIN_USERNAME=admin
ADMIN_EMAIL=admin@swagtix.com
ADMIN_PASSWORD= # Set a strong initial password

# Logging Configuration
LOG_LEVEL=info # 'debug', 'info', 'warn', 'error'
LOG_FILE=./logs/admin-interface.log

# File Upload Configuration
MAX_UPLOAD_SIZE=5 # Maximum file upload size in MB
UPLOAD_DIR=./uploads

# Session Configuration
SESSION_SECRET= # Generate a strong random string, e.g., using `openssl rand -hex 32`
SESSION_DURATION=86400000 # Session duration in milliseconds (24 hours)

# Optional: Analytics and Monitoring
SENTRY_DSN= # Sentry DSN for error tracking
MATOMO_URL= # Matomo URL for analytics
MATOMO_SITE_ID= # Matomo site ID

# Backup Configuration
BACKUP_ENABLED=true
BACKUP_INTERVAL=86400000 # Backup interval in milliseconds (24 hours)
BACKUP_DIR=./backups
